```ad-abstract
title: Data Link Layer - Sicherungsschicht
```

Allgemein:
- Übertragungskanal zur Verfügung stellen für höhere Schichten
	- Daten werden hier vollständig und fehlerfrei über getragen.
- DLL hat nur Schicht 1 zur Verfügung
- Schutz gegen Missinterpretation empfangener Bitfolgen
- Sicherung von Blöcken ist effizienter
- Aufgaben:
	- Blockbildung zur Synchronisation und zur Strukturierung des Datenstroms
	- Erkennung und Behebung von Datenverlust-/verfälschung
	- Flusskontrolle und Pufferung
	- Medienzugriffskontrolle bei geteilten Medien

```ad-abstract
title: Schicht 2 wird in zwei untergeteilt:
1. Medium Access Control (MAC)
2. Logical Link Control (LLC)
```

#### Protocol Data Units

**Rahmenbildung:**
- Bitstrom in Blöcken aufteilen
- Blöcke haben eine feste Struktur

**Erkennung von Rahmenbeginn/-ende**
- Implizite Codetransparenz:
	- Verwendung einer Längenangabe
		- Kann verfälscht werden
	- Spezielle Kontrollzeichen auf Schicht 1 oder 2
		- 02 (STX) Start of text, 03 (ETX) End of Text
		- Die Zahlen repräsentieren ein Kontrollzeichen
	- Codeverletzung auf Schicht 1
		- Ruhepausen zwischen Blöcken
		- Code Verletzen um Markierungen vorzunehmen
- Explizite Codetransparenz:
	- Character-Stuffing
		- DLE Data Link Escape
		- EXT und STX können in Payload enthalten sein, deswegen DLE
		- DLE selber kann in der Payload sein, deswegen DLE DLE
	- Bit-Stuffing
		- Ähnlich zur Character Stuffing
		- vermeiden das Auftreten von STX und EXT mit Bit-Stuffing

#### Fehlererkennug und -behandlung

```ad-note
title: Übertragungsfehler
- Störeinflusse
- Hardwareinduzierte Fehler
- Synchronisierungsfehler
```

```ad-info
title: Maß für die Fehlerhäufigkeit
$$Bitfehlerrate (\text{bit error rate, BER}) = \frac{\text{Summe gestörte Bits}}{\text{Summe übertragene Bits}}$$
```

- Fehler bei Nutzdaten, ist Problem des nächsten Schicht
- Fehler bei Kontrollinformationen stören den Protokollablauf

Beide müssen gleichermaßen erkannt und behandelt werden

Für die Fehlererkennung wird *Error Detecting Codes* benutzt:
- künstliche Hinzufügen von Redundanz vom Block beim Sender

Für Fehlerbehandlung:
- (ARQ) Automatic Repeat Request
	- reagiere auf erkannten Fehler durch Neuübertragung
- (FEC) Forward Error Correction (Error Correcting Codes)
	- Blöcke enthalten ausreichend Redundanzen zur Korrektur

**Paritätsprüfung:**
- Nur ein Bit Redundanz
- Gerade oder ungerade Parität
- Block- oder Längsparität
- Zeichen- oder Querparität
- Kreuzparität, Block und Zeichen

**Cyclic Redundancy Check (CRC):**
- Große Anzahl an Prüfbits
- Einsatz von CRC (Frame Check Sequence, FCS)
- Bildung der CRC-Prüfsumme:
	- Bitfolge wird als Polynom aufgefasst
	- Erweiterung um 0-Folge
	- Teilung durch vereinbartes Prüfpolynom
	- FCS ist Rest der Division, wird an die Bitfolge angehängt
	- Beim Empfänger wird neu dividiert, fehlerfreier Übertragung hat kein Rest
- CRC kann Fehler erkennen, aber nicht korregieren

**Hemming-Code**
- genau wie in Emsys.

**Sendewiederholungsverfahren (Automatic Repeat Request, ARQ)**
- Reaktive Fehlerbehandlung 
- Strategien:
	- Stop-and-Wait
		- Bestätigung mit ACK
	- Go-Back-N
	- Selective Repeat/Reject

#### Flusskontrolle

#### Medium Access Control